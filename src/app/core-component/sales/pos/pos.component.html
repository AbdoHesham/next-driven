<div class="ms-0">
  <div class="row w-100">
    <div class="col-lg-8 col-sm-12 tabs_wrapper">
      <div class="page-header">
        <div class="page-title">
          <h4>Categories</h4>
          <h6>Manage your purchases</h6>
        </div>
        <button
        class="btn btn-login"
        style="display: flex"
        [routerLink]="['/']"  
      >

        <span>
          {{ "back to DashBoard" | translate }}
        </span>
      </button>
        <div>
          <button class="btn btn-login" (click)="closeRegister()">
            close Register
          </button>

          <button
            (click)="logout()"
            class="btn btn-login"
            style="display: flex"
          >
            <mat-icon alt="icon"> logout </mat-icon>

            <span>
              {{ "logout" | translate }}
            </span>
          </button>
    
        </div>
        <!-- (click)="closeRegister()" -->
      </div>
      <ul class="tabs border-0">
        <owl-carousel-o class="owl-product owl-theme" [options]="customOptions">
          <ng-template
            carouselSlide
            *ngFor="let item of categories; let i = index"
          >
            <li
              [id]="i + 1"
              [class.active]="isActive === i + 1"
              (click)="
                isActive == i + 1 ? (isActive = null) : (isActive = i + 1);
                setCatVal(item.id)
              "
              [value]="item.id"
            >
              <div class="product-details">
                <img
                  [src]="item?.icon"
                  onerror="this.src='assets/img/avatar.png'"
                  alt="img"
                />
                <h6>{{ item.categoryName }}</h6>
              </div>
            </li>
          </ng-template>
        </owl-carousel-o>
      </ul>

      <div class="tabs_container">
        <div class="tab_content active">
          <div class="row">
            <div
              class="col-lg-3 col-sm-6 d-flex"
              *ngFor="let item of Items; let i = index"
            >
              <div
                class="productset flex-fill"
                [class.active]="item.isItemActive === i + 1"
                (click)="
                  item.isItemActive == i + 1
                    ? (item.isItemActive = '')
                    : (item.isItemActive = i + 1);
                  setItemVal(item)
                "
              >
                <div class="productsetimg">
                  <img
                    [src]="item?.icon"
                    alt="img"
                    onerror="this.src='assets/img/product/product60.jpg'"
                  />
                  <h6>{{ item.stocksOnHand }}</h6>
                  <div class="check-product">
                    <i class="fa fa-check"></i>
                  </div>
                </div>
                <div class="productsetcontent">
                  <h5>{{ item.categoryName }}</h5>
                  <h4>{{ item.name }}</h4>
                  <h6>{{ item.price }} {{ item?.currencyCode }}</h6>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-sm-12">
      <div class="order-list">
        <div class="orderid">
          <h4>Order List</h4>
          <h5>Transaction id : #65565</h5>
        </div>
        <div class="actionproducts">
          <ul>
            <li>
              <a href="javascript:void(0);" class="deletebg confirm-text"
                ><img src="assets/img/icons/delete-2.svg" alt="img"
              /></a>
            </li>
            <li>
              <a
                href="javascript:void(0);"
                data-bs-toggle="dropdown"
                aria-expanded="false"
                class="dropset"
              >
                <img src="assets/img/icons/ellipise1.svg" alt="img" />
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="dropdownMenuButton"
                data-popper-placement="bottom-end"
              >
                <li>
                  <a class="dropdown-item">Action</a>
                </li>
                <li>
                  <a class="dropdown-item">Another Action</a>
                </li>
                <li>
                  <a class="dropdown-item">Something Elses</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
      <div class="card card-order">
        <div class="card-body">
          <div class="row">
            <div class="col-12">
              <button (click)="createCustomer(null)" class="btn btn-login">
                <i class="fa fa-plus me-2"></i>Add Customer
              </button>
            </div>
            <div class="col-lg-12">
              <div class="select-split">
                <div class="select-group w-100 mt-3">
                  <form [formGroup]="Form">
                    <select class="form-select" formControlName="customRoleID">
                      <option *ngFor="let item of customers" [value]="item.id">
                        {{ item.firstName }} {{ item.lastName }}
                      </option>
                    </select>
                  </form>
                </div>
              </div>
            </div>
            <!-- <div class="col-lg-12">
              <div class="select-split">
                <div class="select-group w-100">
                  <select class="form-select">
                    <option>Product</option>
                    <option>Barcode</option>
                  </select>
                </div>
              </div>
            </div> -->
            <div
              class="col-12"
              style="
                display: flex;
                flex-direction: row;
                justify-content: space-between;
              "
            >
              <mat-button-toggle-group
                name="fontStyle"
                aria-label="Font Style"
                style="height: 48px"
              >
                <mat-button-toggle value="1" checked="true" name="vatType"
                  >Debit Note</mat-button-toggle
                >
                <mat-button-toggle value="2" name="vatType"
                  >Credit Note</mat-button-toggle
                >
                <!-- checked="true" -->
                <!-- [selected]="row.accessibilityType" -->
              </mat-button-toggle-group>
              <!-- <div class="text-end">
                <a
                  class="btn btn-scanner-set btn-colrs"
                  (click)="action.isStart ? action.stop() : action.start()"
                  ><img
                    src="assets/img/icons/scanner1.svg"
                    alt="img"
                    class="me-2"
                  />Scan bardcode</a
                >
                <ngx-scanner-qrcode
                  #action="scanner"
                  hidden
                ></ngx-scanner-qrcode>

                <span>{{ action.data.value | json }}</span>
                <span>{{ action.data | async | json }}</span>

                <p *ngIf="action.isLoading">⌛ Loading...</p>

              </div> -->
            </div>
          </div>
        </div>
        <div class="split-card"></div>
        <div class="card-body pt-0">
          <div class="totalitem">
            <h4>Total items : {{ selectedItems.length }}</h4>
            <a (click)="clearAll()">Clear all</a>
          </div>
          <div class="product-table">
            <ul
              class="product-lists"
              *ngFor="let item of selectedItems; let i = index"
            >
              <li>
                <div class="productimg">
                  <div class="productimgs">
                    <img src="assets/img/product/product30.jpg" alt="img" />
                  </div>
                  <div class="productcontet">
                    <h4>
                      {{ item?.name }}
                      <a
                        href="javascript:void(0);"
                        class="ms-2"
                        data-bs-toggle="modal"
                        data-bs-target="#edit"
                        ><img src="assets/img/icons/edit-5.svg" alt="img"
                      /></a>
                    </h4>
                    <div class="productlinkset">
                      <h5>{{ item?.sortingNumber }}</h5>
                    </div>
                    <div class="increment-decrement">
                      <div class="input-groups">
                        <input
                          type="button"
                          value="-"
                          (click)="reducePos(item, i)"
                          class="button-minus button"
                        />
                        <input
                          type="text"
                          name="child"
                          #quantity
                          [value]="item?.neededQuantity"
                          class="quantity-field"
                        />
                        <!-- [max]="item?.stocksOnHand" -->
                        <!-- [(ngModel)]="cartValue[0]" -->
                        <input
                          type="button"
                          value="+"
                          (click)="addPos(item, i)"
                          class="button-plus button"
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </li>
              <li>{{ item.price }} {{ item?.currencyCode }}</li>
              <li>
                <a (click)="deleteItem(item)" class="confirm-text"
                  ><img src="assets/img/icons/delete-2.svg" alt="img"
                /></a>
              </li>
            </ul>
          </div>
        </div>
        <div class="split-card"></div>
        <div class="card-body pt-0 pb-2">
          <div class="setvalue">
            <ul>
              <!-- <li>
                <h5>Subtotal</h5>
                <h6>55.00$</h6>
              </li>
              <li>
                <h5>Tax</h5>
                <h6>5.00$</h6>
              </li> -->
              <li class="total-value">
                <h5>Total</h5>
                <h6>
                  {{
                    calcTotal() | currency : "SAR" : "\u0631\u002e\u0633\u002e"
                  }}
                </h6>
              </li>
            </ul>
          </div>
          <div class="setvaluecash">
            <ul>
              <li>
                <a href="javascript:void(0);" class="paymentmethod">
                  <img src="assets/img/icons/cash.svg" alt="img" class="me-2" />
                  Cash
                </a>
              </li>
              <li>
                <a href="javascript:void(0);" class="paymentmethod">
                  <img
                    src="assets/img/icons/debitcard.svg"
                    alt="img"
                    class="me-2"
                  />
                  Debit
                </a>
              </li>
              <!-- <li>
                <a href="javascript:void(0);" class="paymentmethod">
                  <img src="assets/img/icons/scan.svg" alt="img" class="me-2" />
                  Scan
                </a>
              </li> -->
            </ul>
          </div>
          <div class="btn-totallabel">
            <h5>Checkout</h5>
            <h6>
              {{ calcTotal() | currency : "SAR" : "\u0631\u002e\u0633\u002e" }}
            </h6>
          </div>
          <div class="btn-pos">
            <ul>
              <li>
                <a class="btn"
                  ><img
                    src="assets/img/icons/pause1.svg"
                    alt="img"
                    class="me-1"
                  />Hold</a
                >
              </li>
              <li>
                <a class="btn"
                  ><img
                    src="assets/img/icons/edit-6.svg"
                    alt="img"
                    class="me-1"
                  />Quotation</a
                >
              </li>
              <li>
                <a class="btn"
                  ><img
                    src="assets/img/icons/trash12.svg"
                    alt="img"
                    class="me-1"
                  />Void</a
                >
              </li>
              <li>
                <a class="btn"
                  ><img
                    src="assets/img/icons/wallet1.svg"
                    alt="img"
                    class="me-1"
                  />Payment</a
                >
              </li>
              <li>
                <a class="btn" data-bs-toggle="modal" data-bs-target="#recents"
                  ><img
                    src="assets/img/icons/transcation.svg"
                    alt="img"
                    class="me-1"
                  />
                  Transaction</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="calculator" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Define Quantity</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="calculator-set">
          <div class="calculatortotal">
            <h4>0</h4>
          </div>
          <ul>
            <li>
              <a href="javascript:void(0);">1</a>
            </li>
            <li>
              <a href="javascript:void(0);">2</a>
            </li>
            <li>
              <a href="javascript:void(0);">3</a>
            </li>
            <li>
              <a href="javascript:void(0);">4</a>
            </li>
            <li>
              <a href="javascript:void(0);">5</a>
            </li>
            <li>
              <a href="javascript:void(0);">6</a>
            </li>
            <li>
              <a href="javascript:void(0);">7</a>
            </li>
            <li>
              <a href="javascript:void(0);">8</a>
            </li>
            <li>
              <a href="javascript:void(0);">9</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="btn btn-closes"
                ><img src="assets/img/icons/close-circle.svg" alt="img"
              /></a>
            </li>
            <li>
              <a href="javascript:void(0);">0</a>
            </li>
            <li>
              <a href="javascript:void(0);" class="btn btn-reverse"
                ><img src="assets/img/icons/reverse.svg" alt="img"
              /></a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="holdsales" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Hold order</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="hold-order">
          <h2>4500.00</h2>
        </div>
        <div class="form-group">
          <label>Order Reference</label>
          <input type="text" />
        </div>
        <div class="para-set">
          <p>
            The current order will be set on hold. You can retreive this order
            from the pending order button. Providing a reference to it might
            help you to identify the order more quickly.
          </p>
        </div>
        <div class="col-lg-12">
          <a class="btn btn-submit me-2">Submit</a>
          <a class="btn btn-cancel" data-bs-dismiss="modal">Cancel</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="edit" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Edit Order</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label>Product Price</label>
              <input type="text" value="20" />
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label>Product Price</label>
              <select class="select">
                <option>Exclusive</option>
                <option>Inclusive</option>
              </select>
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label> Tax</label>
              <div class="input-group">
                <input type="text" />
                <a class="scanner-set input-group-text"> % </a>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label>Discount Type</label>
              <select class="select">
                <option>Fixed</option>
                <option>Percentage</option>
              </select>
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label>Discount</label>
              <input type="text" value="20" />
            </div>
          </div>
          <div class="col-lg-6 col-sm-12 col-12">
            <div class="form-group">
              <label>Sales Unit</label>
              <select class="select">
                <option>Kilogram</option>
                <option>Grams</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-lg-12">
          <a class="btn btn-submit me-2">Submit</a>
          <a class="btn btn-cancel" data-bs-dismiss="modal">Cancel</a>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="delete" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Order Deletion</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="delete-order">
          <img src="assets/img/icons/close-circle1.svg" alt="img" />
        </div>
        <div class="para-set text-center">
          <p>
            The current order will be deleted as no payment has been <br />
            made so far.
          </p>
        </div>
        <div class="col-lg-12 text-center">
          <a class="btn btn-danger me-2">Yes</a>
          <a class="btn btn-cancel" data-bs-dismiss="modal">No</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="recents" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Recent Transactions</h5>
        <button
          type="button"
          class="close"
          data-bs-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">×</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="tabs-sets">
          <ul class="nav nav-tabs" id="myTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="purchase-tab"
                data-bs-toggle="tab"
                data-bs-target="#purchase"
                type="button"
                aria-controls="purchase"
                aria-selected="true"
                role="tab"
              >
                Purchase
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="payment-tab"
                data-bs-toggle="tab"
                data-bs-target="#payment"
                type="button"
                aria-controls="payment"
                aria-selected="false"
                role="tab"
              >
                Payment
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="return-tab"
                data-bs-toggle="tab"
                data-bs-target="#return"
                type="button"
                aria-controls="return"
                aria-selected="false"
                role="tab"
              >
                Return
              </button>
            </li>
          </ul>
          <div class="tab-content">
            <div
              class="tab-pane fade show active"
              id="purchase"
              role="tabpanel"
              aria-labelledby="purchase-tab"
            >
              <div class="table-top">
                <div class="search-set">
                  <div class="search-input">
                    <a class="btn btn-searchset"
                      ><img src="assets/img/icons/search-white.svg" alt="img"
                    /></a>
                  </div>
                </div>
                <div class="wordset">
                  <ul>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="pdf"
                        ><img src="assets/img/icons/pdf.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="excel"
                        ><img src="assets/img/icons/excel.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="print"
                        ><img src="assets/img/icons/printer.svg" alt="img"
                      /></a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="table-responsive">
                <table
                  (matSortChange)="sortPosPurchaseData($event)"
                  matSort
                  matSortActive="Sno"
                  matSortDirection="asc"
                  matSortDisableClear
                  class="table datanew"
                >
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Reference</th>
                      <th>Customer</th>
                      <th>Amount</th>
                      <th class="text-end">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let sales of posPurchase; let i = index">
                      <td>{{ sales.Date }}</td>
                      <td>{{ sales.Reference }}</td>
                      <td>{{ sales.Customer }}</td>
                      <td>{{ sales.Amount }}</td>
                      <td>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/eye.svg" alt="img" />
                        </a>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/edit.svg" alt="img" />
                        </a>
                        <a
                          (click)="confirmTextPurchase(i)"
                          class="me-3 confirm-text"
                          href="javascript:void(0);"
                        >
                          <img src="assets/img/icons/delete.svg" alt="img" />
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane fade" id="payment" role="tabpanel">
              <div class="table-top">
                <div class="search-set">
                  <div class="search-input">
                    <a class="btn btn-searchset"
                      ><img src="assets/img/icons/search-white.svg" alt="img"
                    /></a>
                  </div>
                </div>
                <div class="wordset">
                  <ul>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="pdf"
                        ><img src="assets/img/icons/pdf.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="excel"
                        ><img src="assets/img/icons/excel.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="print"
                        ><img src="assets/img/icons/printer.svg" alt="img"
                      /></a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="table-responsive">
                <table
                  (matSortChange)="sortPosPaymentData($event)"
                  matSort
                  matSortActive="Sno"
                  matSortDirection="asc"
                  matSortDisableClear
                  class="table datanew"
                >
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Reference</th>
                      <th>Customer</th>
                      <th>Amount</th>
                      <th class="text-end">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let sales of posPayment; let i = index">
                      <td>{{ sales.Date }}</td>
                      <td>{{ sales.Reference }}</td>
                      <td>{{ sales.Customer }}</td>
                      <td>{{ sales.Amount }}</td>
                      <td>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/eye.svg" alt="img" />
                        </a>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/edit.svg" alt="img" />
                        </a>
                        <a
                          (click)="confirmTextPayment(i)"
                          class="me-3 confirm-text"
                          href="javascript:void(0);"
                        >
                          <img src="assets/img/icons/delete.svg" alt="img" />
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="tab-pane fade" id="return" role="tabpanel">
              <div class="table-top">
                <div class="search-set">
                  <div class="search-input">
                    <a class="btn btn-searchset"
                      ><img src="assets/img/icons/search-white.svg" alt="img"
                    /></a>
                  </div>
                </div>
                <div class="wordset">
                  <ul>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="pdf"
                        ><img src="assets/img/icons/pdf.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="excel"
                        ><img src="assets/img/icons/excel.svg" alt="img"
                      /></a>
                    </li>
                    <li>
                      <a
                        data-bs-toggle="tooltip"
                        data-bs-placement="top"
                        title="print"
                        ><img src="assets/img/icons/printer.svg" alt="img"
                      /></a>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="table-responsive">
                <table
                  (matSortChange)="sortPosReturnData($event)"
                  matSort
                  matSortActive="Sno"
                  matSortDirection="asc"
                  matSortDisableClear
                  class="table datanew"
                >
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Reference</th>
                      <th>Customer</th>
                      <th>Amount</th>
                      <th class="text-end">Action</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let sales of posReturn; let i = index">
                      <td>{{ sales.Date }}</td>
                      <td>{{ sales.Reference }}</td>
                      <td>{{ sales.Customer }}</td>
                      <td>{{ sales.Amount }}</td>
                      <td>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/eye.svg" alt="img" />
                        </a>
                        <a class="me-3" href="javascript:void(0);">
                          <img src="assets/img/icons/edit.svg" alt="img" />
                        </a>
                        <a class="me-3 confirm-text" href="javascript:void(0);">
                          <img src="assets/img/icons/delete.svg" alt="img" />
                        </a>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
